<div class="container-fluid p-5">
  <div class="row">
    <div class="offset-2 col-8">
      <h1>Processos em andamento</h1>
    </div>
  </div>
  <div class="row my-4">
    <div class="offset-2 col-8">
      <p>
        Nesta página é possível ver todos os processos em andamento. Toda vez que um processo é alterado, a página é
        atualizada automaticamente. Isso acontece pois existe um evento que fica "ouvindo" as alterações.
      </p>
      <hr />
      <button class="btn btn-primary btn-lg" (click)="add()">Criar novo processo</button>
    </div>
  </div>
  <div class="row">
    <div class="offset-2 col-8">
      <table class="table text-center">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">COUNT STEPS</th>
            <th scope="col">CURRENT STEP</th>
            <th scope="col">NEXT STEP</th>
            <th scope="col">BACK STEP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let process of processes">
            <th scope="row">
              <a [routerLink]="['/process', process.id, 'current-step']">
                {{process.id}}
              </a>
            </th>
            <td>
              {{process.steps?.length}}
            </td>
            <td [class.text-success]="process.currentStep.completed">
              {{process.currentStep?.codeName}}
            </td>
            <td [class.text-success]="process.nextStep?.completed">
              {{process.nextStep?.codeName}}
            </td>
            <td [class.text-success]="process.backStep?.completed">
              {{process.backStep?.codeName}}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
